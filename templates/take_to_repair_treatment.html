<script type="text/javascript" src="/assets/vuejs/vue2.js" charset="UTF-8"></script>
<script src="https://cdn.jsdelivr.net/vue.resource/1.2.1/vue-resource.min.js"></script>
<ul class="breadcrumb">
	<li><a href="take_to_repair">Главная</a> <span class="divider">/</span></li>
	<li class="active"> Пациенты на лечении</li>
</ul>

<div id="infoUser">
	<!-- <td v-if="edit.vrach_technic.String == ''" style="width: auto">
		<select v-model="selectedVrachTechnic" class="form-control">
			<option disabled value="">Выберите врача</option>
			<option v-for="(itemFioVrachTechnic, $index) in itemsFioVrach" v-bind:selected="itemFioVrachTechnic.value">
				{itemFioVrachTechnic.Fam} {itemFioVrachTechnic.Name} {itemFioVrachTechnic.Lastname}
			</option>
		</select>
	</td>
	<td v-else><input  disabled="disabled" class="form-control" v-model="edit.vrach_teсhnic" maxlength="10"></td> -->

<table class="table table-hover" id="tablePatient">
			  	<thead>
			  		<tr>
			  			<th></th>
			  			<th style="display:none;"></th>
			  			<th>Номер очереди</th>
			  			<th>Дата записи
			  			<th>ФИО</th>
			  			<th>Год рождения</th>
			  			<th>Льготная категория</th>
			  			<th></th>
			  		</tr>
			  	</thead>
			  	<tbody>
			  		<tr v-for="(item, $index) in items">
			  			<template>
			  				<td style="width: 10px"> <button v-on:click="locationEdit(item)" class="form-control glyphicon glyphicon-user" aria-hidden="true"></button></td>
			  				<td style="width: auto;" >{item.Id.String}</td>
			  				<td style="width: auto;">{item.DateRecord.String}</td>
			  				<td style="width: auto;"> {item.Fam.String} {item.Name.String} {item.Lastname.String}</td>
			  				<td style="width: auto;">{item.Datebirth.String}</td>
			  				<td style="width: auto;">{item.Lgotcat.String}</td>
			  				<td style="width: 10%">
			  					<a v-on:click="editItem(item, $index, $event)" href="#" title="печать">
			  						<span class="glyphicon glyphicon-print" aria-hidden="true"></span>
			  					</a>
			  				</td>
			  			</template>
			  			<!--<template v-if="item.status=='edit'">-->
			  		</tr>
			  	</tbody>

			  </table>
			</div>

<script type="text/javascript">
var infoUser = new Vue({
			delimiters: ['{', '}'],
			el:'#infoUser',
			data: {
				items: null
								},

								mounted:function(){
									this.setDefaultItems();
								},
								methods: {
									setDefaultItems: function (){
										//var items;
										this.$http.get('/take_to_repair_treatment_get').then(data =>{
											this.items = JSON.parse(data.body);
											console.log(data.body)
										});

									},
									locationEdit: function(item){
				      					location.href='edit?id='+item.Id.String+'';
									},

					        }
					    });


</script>
<!-- <div class="btn-group">
	<button type="button" class="btn btn-default"><span id='lgotcatf'></span></button>
	<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
		<span class="caret"></span>
		<span class="sr-only">Меню с переключением</span>
	</button>
	<ul id="lgotCatSelect" class="dropdown-menu" role="menu">
		<li id="lgotCatSelectDivider" class="divider"></li>
		<li><a href="take_to_repair_treatment">Все категории</a></li>
	</ul>
</div> -->
